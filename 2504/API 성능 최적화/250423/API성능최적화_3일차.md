# ì˜¤ì „



## ì–´ì œ ê³¼ì œ í’€ì´ ë° ë³µìŠµ



- [addattribute](https://www.google.com/search?q=addattribute+%ED%95%98%EB%82%98%EB%A7%8C&sca_esv=cc91aa7b516a412e&ei=2SgIaJ6cGdG3vr0PzYjYGA&ved=0ahUKEwje7L2K6OyMAxXRm68BHU0EFgMQ4dUDCBA&uact=5&oq=addattribute+%ED%95%98%EB%82%98%EB%A7%8C&gs_lp=Egxnd3Mtd2l6LXNlcnAiFmFkZGF0dHJpYnV0ZSDtlZjrgpjrp4wyChAAGLADGNYEGEcyChAAGLADGNYEGEcyChAAGLADGNYEGEcyChAAGLADGNYEGEcyChAAGLADGNYEGEcyChAAGLADGNYEGEcyChAAGLADGNYEGEcyChAAGLADGNYEGEcyChAAGLADGNYEGEcyChAAGLADGNYEGEdIgAJQAFgAcAF4AZABAJgBAKABAKoBALgBA8gBAJgCAaACB5gDAIgGAZAGCpIHATGgBwCyBwC4BwA&sclient=gws-wiz-serp)

- [ë¹ˆ ì—¬ëŸ¬ê°œ](https://www.google.com/search?q=%EB%B9%88+%EC%97%AC%EB%9F%AC%EA%B0%9C&oq=%EB%B9%88+%EC%97%AC%EB%9F%AC%EA%B0%9C&gs_lcrp=EgZjaHJvbWUyBggAEEUYOTIGCAEQRRg90gEHMzQ1ajBqOagCALACAQ&sourceid=chrome&ie=UTF-8)

- [[JPA] hibernateì˜ ddl-auto ì†ì„±ì˜ ì¢…ë¥˜ì™€ ì£¼ì˜í•´ì•¼í•  ì ](https://colabear754.tistory.com/136)

- [Spring Boot SQL ë³´ê¸° ì˜µì…˜ ì´ ì •ë¦¬](https://lannstark.tistory.com/14)

- [ìŠ¤í”„ë§ ì˜ì¡´ì„± ì£¼ì…ì´ ì˜ì¡´ì„±ì„ ë‚®ì¶”ëŠ” ì´ìœ ](https://www.google.com/search?q=%EC%8A%A4%ED%94%84%EB%A7%81+%EC%9D%98%EC%A1%B4%EC%84%B1+%EC%A3%BC%EC%9E%85%EC%9D%B4+%EC%9D%98%EC%A1%B4%EC%84%B1%EC%9D%84+%EB%82%AE%EC%B6%94%EB%8A%94+%EC%9D%B4%EC%9C%A0&sca_esv=6a2525f9667c9ba5&ei=OCUHaI3jONOp2roPzdC7mQU&ved=0ahUKEwiN39-98OqMAxXTlFYBHU3oLlMQ4dUDCBI&uact=5&oq=%EC%8A%A4%ED%94%84%EB%A7%81+%EC%9D%98%EC%A1%B4%EC%84%B1+%EC%A3%BC%EC%9E%85%EC%9D%B4+%EC%9D%98%EC%A1%B4%EC%84%B1%EC%9D%84+%EB%82%AE%EC%B6%94%EB%8A%94+%EC%9D%B4%EC%9C%A0&gs_lp=Egxnd3Mtd2l6LXNlcnAiO-yKpO2UhOungSDsnZjsobTshLEg7KO87J6F7J20IOydmOyhtOyEseydhCDrgq7stpTripQg7J207JygMgUQABjvBTIFEAAY7wUyCBAAGIAEGKIEMggQABiiBBiJBTIIEAAYogQYiQVIsCtQhgxYlCpwCngAkAEDmAGkAaAB3yOqAQQwLjM3uAEDyAEA-AEBmAIcoAKEEsICChAAGLADGNYEGEfCAgUQABiABMICBBAAGB7CAgYQABgIGB7CAgYQABgFGB7CAgcQABiABBgNwgIGEAAYDRgewgIIEAAYCBgNGB7CAggQABgFGA0YHsICBRAhGKABmAMAiAYBkAYKkgcFMTAuMTigB96oAbIHBDAuMTi4B-QR&sclient=gws-wiz-serp)

- [@autowired ìƒì„±ì](https://www.google.com/search?q=@autowired+%EC%83%9D%EC%84%B1%EC%9E%90&sca_esv=ad45493ffd201e24&ei=ousGaIvSOeek2roP2Z27uQ0&start=10&sa=N&sstk=Af40H4Uf-XPnFCqkGMQ6-o6qUXKSP1IHFMPbbr07i-84BG2k3mB6rTMN7ktKusCoiYEqsPFk7aWAHx9ujWr9If6CW9xGyhjjrrhukQ&ved=2ahUKEwiLq5zIueqMAxVnklYBHdnOLtcQ8tMDegQIJhAE&biw=929&bih=865&dpr=1)

- [bean ìƒëª…ì£¼ê¸°](https://dev-coco.tistory.com/170)

- https://doing7.tistory.com/11
- https://www.google.com/search?q=controller+return&oq=co&gs_lcrp=EgZjaHJvbWUqBggAEEUYOzIGCAAQRRg7MgYIARBFGDkyEwgCEC4YgwEYxwEYsQMY0QMYgAQyDQgDEAAYgwEYsQMYgAQyBggEEEUYPDIGCAUQRRg8MgYIBhBFGDwyBggHEEUYPNIBCDExNDNqMGo3qAIAsAIA&sourceid=chrome&ie=UTF-8
- https://www.google.com/search?q=%EB%A0%88%EA%B1%B0%EC%8B%9C%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EC%97%90+jpa+%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0&oq=%EB%A0%88%EA%B1%B0%EC%8B%9C%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EC%97%90+jpa+%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0&gs_lcrp=EgZjaHJvbWUyBggAEEUYOTIHCAEQABjvBTIKCAIQABiABBiiBDIHCAMQABjvBTIKCAQQABiABBiiBDIKCAUQABiiBBiJBdIBCDU4MzdqMWo3qAIAsAIA&sourceid=chrome&ie=UTF-8
- [ë³µì¡í•œ ì¿¼ë¦¬ jpa vs mybatis](https://www.google.com/search?q=%EB%B3%B5%EC%9E%A1%ED%95%9C+%EC%BF%BC%EB%A6%AC+jpa+vs+mybatis&sca_esv=b347d5207ca6dc52&ei=bxsHaLOFLPm3vr0PrJnKIA&ved=0ahUKEwjz-JWT5-qMAxX5m68BHayMEgQQ4dUDCBI&uact=5&oq=%EB%B3%B5%EC%9E%A1%ED%95%9C+%EC%BF%BC%EB%A6%AC+jpa+vs+mybatis&gs_lp=Egxnd3Mtd2l6LXNlcnAiH-uzteyeoe2VnCDsv7zrpqwganBhIHZzIG15YmF0aXMyBRAAGO8FMggQABiABBiiBDIFEAAY7wUyBRAAGO8FSPAiUIICWJAgcAR4AJABAJgBzgGgAcYMqgEGMS4xMS4xuAEDyAEA-AEBmAIEoALjAcICChAAGLADGNYEGEfCAgQQABgemAMAiAYBkAYDkgcDMi4yoAeCDrIHAzAuMrgH3AE&sclient=gws-wiz-serp)



- ê³¼ì œì—ì„œ ì–´ë ¤ì› ë˜ ì  (JS í™œìš©ì´ ì–´ë ¤ì› ìŒ-ê° ê¸°ëŠ¥ í´ë¦­ë§ˆë‹¤ ë§í¬ ë³€ê²½í•˜ì—¬ iframeì— ì ìš©, CSS ì ìš©ì´ ì–´ë ¤ì› ìŒ)



- RESTful API ê°œë… ì¬ì •ë¦¬ (ìì›-resource(í•µì‹¬ ë°ì´í„°), í–‰ìœ„-(get,post,put,delete))
  - URLì€ ëª…ì‚¬(ìì›), ë™ì‘ì€ ë©”ì†Œë“œ(http)



- RestController (API í†µì‹ ìœ¼ë¡œ json ë°ì´í„°ë§Œ ë„˜ê²¨ì£¼ê² ë‹¤)
- Controller - ë°ì´í„°



#### @controller ë‘ @restconrollerì˜ ì°¨ì´ëŠ” ë­ì•¼?

`@Controller`ì™€ `@RestController`ëŠ” ëª¨ë‘ Springì—ì„œ ì»¨íŠ¸ë¡¤ëŸ¬ ì—­í• ì„ ìˆ˜í–‰í•˜ì§€ë§Œ, ë™ì‘ ë°©ì‹ê³¼ ì£¼ëœ ìš©ë„ê°€ ì•½ê°„ ë‹¤ë¦…ë‹ˆë‹¤. ì°¨ì´ë¥¼ ê°„ë‹¨íˆ ì •ë¦¬í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

1. **ê¸°ë³¸ ëª©ì **



- `@Controller`: ì£¼ë¡œ **ë·°ë¥¼ ë°˜í™˜**í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤. í…œí”Œë¦¿ ì—”ì§„(Thymeleaf, JSP ë“±)ê³¼ í•¨ê»˜ ì‚¬ìš©ë˜ì–´ HTMLì´ë‚˜ ë‹¤ë¥¸ ë·°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
- `@RestController`: **RESTful ì›¹ ì„œë¹„ìŠ¤**ë¥¼ ìœ„í•œ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ, JSON, XML ë“± ë°ì´í„°ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ì£¼ë¡œ API ì„œë²„ ê°œë°œì— ì‚¬ìš©ë©ë‹ˆë‹¤.



2. **ë‚´ë¶€ êµ¬í˜„ ì°¨ì´**



- `@Controller`: ë·° ë¦¬ì¡¸ë²„(View Resolver)ë¥¼ í†µí•´ ë°˜í™˜ê°’ì„ ë·° ì´ë¦„ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤. ì¦‰, ë¦¬í„´ ê°’ì´ HTMLì´ë‚˜ JSP ê°™ì€ ë·°ì˜ ê²½ë¡œë¡œ í•´ì„ë©ë‹ˆë‹¤.

  

  ```java
  @Controller
  public class ViewController {
      @GetMapping("/home")
      public String home() {
          return "home"; // "home.html" ê°™ì€ ë·° ì´ë¦„ ë°˜í™˜
      }
  }
  ```

  

- `@RestController`: `@Controller`ì— `@ResponseBody`ê°€ ì¶”ê°€ëœ ê²ƒì…ë‹ˆë‹¤. ì¦‰, ë©”ì„œë“œì˜ ë°˜í™˜ê°’ì´ ê·¸ëŒ€ë¡œ HTTP ì‘ë‹µ ë³¸ë¬¸(body)ì— ì‘ì„±ë©ë‹ˆë‹¤.

  

  ```java
  @RestController
  public class RestApiController {
      @GetMapping("/api")
      public String api() {
          return "Hello, REST!"; // ë³¸ë¬¸ì— "Hello, REST!" ì¶œë ¥
      }
  }
  ```



3. **ì‚¬ìš© ë°©ì‹**



- **`@Controller`**ëŠ” ë·° í…œí”Œë¦¿ì„ ì‚¬ìš©í•˜ëŠ” MVC ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì í•©í•©ë‹ˆë‹¤.
- **`@RestController`**ëŠ” ë°ì´í„°(JSON/XML)ë§Œ ì œê³µí•˜ëŠ” RESTful API ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì í•©í•©ë‹ˆë‹¤.



ìš”ì•½



- **HTML ë·° ë°˜í™˜** â†’ `@Controller` ì‚¬ìš©
- **JSON/XML ë°˜í™˜** â†’ `@RestController` ì‚¬ìš©



í•„ìš”í•œ ìƒí™©ì— ë”°ë¼ ì í•©í•œ ì–´ë…¸í…Œì´ì…˜ì„ ì„ íƒí•˜ë©´ ë©ë‹ˆë‹¤. í˜¹ì‹œ ë” ê¶ê¸ˆí•œ ì ì´ ìˆìœ¼ë©´ ì•Œë ¤ì£¼ì„¸ìš”! 



ì•Œê² ìŠµë‹ˆë‹¤! ì´ì „ì— ì‘ì„±í–ˆë˜ ë‚´ìš©ì„ í¬í•¨í•´ì„œ, `XML ë©”ì‹œì§€ ì»¨ë²„í„° ì„¤ì •`ê³¼ `Controllerì—ì„œ XML ë°ì´í„° ì²˜ë¦¬` ë¶€ë¶„ì„ Markdown í˜•ì‹ìœ¼ë¡œ ì „ì²´ì ìœ¼ë¡œ ì •ë¦¬í•´ë“œë¦´ê²Œìš”.

------

# Spring RESTful APIì—ì„œ XML ì²˜ë¦¬ ë°©ë²•

ìŠ¤í”„ë§ì—ì„œ RESTful APIë¥¼ ìœ ì§€í•˜ë©´ì„œ XML ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ë ¤ë©´ ëª‡ ê°€ì§€ ì„¤ì •ê³¼ êµ¬í˜„ì´ í•„ìš”í•©ë‹ˆë‹¤.

---

## 1. XML ë°ì´í„° ë°”ì¸ë”©ì„ ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€
XML ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ë ¤ë©´ `Jackson`ì˜ XML ëª¨ë“ˆì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
```xml
<dependency>
    <groupId>com.fasterxml.jackson.dataformat</groupId>
    <artifactId>jackson-dataformat-xml</artifactId>
    <version>2.15.0</version>
</dependency>
```



------

## 2. XML ë©”ì‹œì§€ ì»¨ë²„í„° ì„¤ì •

`MappingJackson2XmlHttpMessageConverter`ë¥¼ ì‚¬ìš©í•˜ì—¬ XML ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ë„ë¡ Springì— ë©”ì‹œì§€ ì»¨ë²„í„°ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

```java
@Configuration
public class WebConfig implements WebMvcConfigurer {
    @Override
    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {
        converters.add(new MappingJackson2XmlHttpMessageConverter());
    }
}
```

------

## 3. Controllerì—ì„œ XML ë°ì´í„° ì²˜ë¦¬

Spring REST ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” XML ë°ì´í„°ë„ `@RequestBody`ì™€ `@ResponseBody`ë¥¼ í†µí•´ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```java
@RestController
@RequestMapping("/api")
public class ExampleController {
    @PostMapping(value = "/xml", consumes = MediaType.APPLICATION_XML_VALUE, produces = MediaType.APPLICATION_XML_VALUE)
    public MyXmlObject handleXmlData(@RequestBody MyXmlObject xmlObject) {
        return xmlObject;
    }
}
```

------

# @Controllerì™€ @RestControllerì˜ ì°¨ì´ì 

Springì—ì„œ `@Controller`ì™€ `@RestController`ì˜ ì£¼ìš” ì°¨ì´ì ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

| **ì–´ë…¸í…Œì´ì…˜**    | **ê¸°ëŠ¥ ë° ëª©ì **                                             |
| ----------------- | ------------------------------------------------------------ |
| `@Controller`     | **ë·° ë°˜í™˜** - HTML í…œí”Œë¦¿ ì—”ì§„(Thymeleaf, JSP ë“±)ê³¼ í•¨ê»˜ ì‚¬ìš©ë©ë‹ˆë‹¤. |
| `@RestController` | **ë°ì´í„° ë°˜í™˜** - JSON/XML ë°ì´í„° ë°˜í™˜ì— ì í•©í•˜ë©° RESTful API ê°œë°œì— ì‚¬ìš©ë©ë‹ˆë‹¤. |

------

# JSPì™€ Thymeleaf í…œí”Œë¦¿ ì—”ì§„ì˜ ì°¨ì´ì 

Springì—ì„œ ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ì— ì‚¬ìš©ë˜ëŠ” í…œí”Œë¦¿ ì—”ì§„ì¸ JSPì™€ Thymeleafì˜ ì°¨ì´ì ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

| **ê¸°ì¤€**             | **JSP**                        | **Thymeleaf**              |
| -------------------- | ------------------------------ | -------------------------- |
| **HTML í˜•ì‹**        | Java ì½”ë“œ í¬í•¨ ê°€ëŠ¥            | ìˆœìˆ˜ HTML ìœ ì§€ ê°€ëŠ¥        |
| **ì‚¬ìš©ì„±**           | Java EEì™€ ê°•í•˜ê²Œ ì—°ê²°          | Springê³¼ ìì—°ìŠ¤ëŸ¬ìš´ í†µí•©   |
| **í…œí”Œë¦¿ ì²˜ë¦¬ ë°©ì‹** | ëŸ°íƒ€ì„ì—ì„œ ì²˜ë¦¬                | ì„œë²„ì—ì„œ ë¯¸ë¦¬ ì²˜ë¦¬ í›„ ë°˜í™˜ |
| **ê°€ë…ì„±/ìœ ì§€ë³´ìˆ˜**  | ë³µì¡í•œ ì½”ë“œë¡œ ì–´ë ¤ì›€ ë°œìƒ ê°€ëŠ¥ | ê¹”ë”í•œ HTML êµ¬ì¡° ìœ ì§€      |

------

# ê¸°ì¡´ Spring í”„ë¡œì íŠ¸ì— Spring Boot ë„ì…í•˜ê¸°

Spring ë ˆê±°ì‹œ í”„ë¡œì íŠ¸ì— Spring Bootë¥¼ ì¶”ê°€í•˜ëŠ” ë‹¨ê³„ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

## ì£¼ìš” ë‹¨ê³„

1. **Spring Boot ì˜ì¡´ì„± ì¶”ê°€**

   ```xml
   <dependency>
       <groupId>org.springframework.boot</groupId>
       <artifactId>spring-boot-starter</artifactId>
       <version>2.x.x</version>
   </dependency>
   ```

2. **ë©”ì¸ í´ë˜ìŠ¤ ìˆ˜ì •**

   ```java
   @SpringBootApplication
   public class MySpringBootApplication {
       public static void main(String[] args) {
           SpringApplication.run(MySpringBootApplication.class, args);
       }
   }
   ```

3. **ì„¤ì • íŒŒì¼ ë³€ê²½** (`application.properties` ë˜ëŠ” `application.yml`ë¡œ ë³€ê²½)

   ```yaml
   server:
     port: 8080
   spring:
     datasource:
       url: jdbc:mysql://localhost:3306/mydb
       username: root
       password: secret
   ```

4. **ê¸°ì¡´ ì„¤ì • ì ê²€ ë° ë¦¬íŒ©í† ë§**

   - `web.xml` ì œê±°.
   - ê¸°ì¡´ Bean ì„¤ì •ì„ `@Configuration`ìœ¼ë¡œ ì „í™˜.

------

# `res`ì™€ `data`ì˜ ì°¨ì´ (Ajax í†µì‹ ì—ì„œ)

JavaScript `fetch`ë¥¼ ì‚¬ìš©í•  ë•Œ `res`ì™€ `data`ì˜ ì°¨ì´ì ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

| **ë³€ìˆ˜** | **ì—­í• **                                        |
| -------- | ----------------------------------------------- |
| `res`    | HTTP ì‘ë‹µ ê°ì²´(í—¤ë”, ìƒíƒœì½”ë“œ í¬í•¨).            |
| `data`   | `res.json()`ìœ¼ë¡œ ë³€í™˜ëœ JSON ë°ì´í„°(ë³¸ë¬¸ ë‚´ìš©). |

------

## ì½”ë“œ íë¦„ ì˜ˆì œ

```js
fetch("/api/persons")
    .then(res => res.json()) // JSON ê°ì²´ë¡œ ë³€í™˜
    .then(data => console.log(data)); // ë³€í™˜ëœ ë°ì´í„°ë¥¼ ì¶œë ¥
```

------

ì´ì œ ì „ì²´ ë‚´ìš©ì´ Markdown í˜•ì‹ìœ¼ë¡œ ì˜ ì •ë¦¬ë˜ì—ˆì„ ê±°ì˜ˆìš”. ë³µì‚¬í•´ì„œ `.md` íŒŒì¼ì— ë¶™ì—¬ë„£ìœ¼ì‹œë©´ ë©ë‹ˆë‹¤. í˜¹ì‹œ ë¬¸ì œê°€ ì§€ì†ë˜ê±°ë‚˜ ë” í•„ìš”í•œ ë¶€ë¶„ì´ ìˆë‹¤ë©´ ë§ì”€í•´ ì£¼ì„¸ìš”! ğŸ˜Š

```

```



## ì„±ëŠ¥ ìµœì í™”

- CSRì„ í†µí•œ ì„œë²„ ë¶€í•˜ ê°ì†Œ(ì„œë²„ ê²½ëŸ‰í™”) - ajax
- JPAë¥¼ í†µí•œ ì¿¼ë¦¬ ë‹¨ìˆœí™” ë° ìœ ì§€ë³´ìˆ˜ ìš©ì´ (ê°„ë‹¨í•œ ì¿¼ë¦¬)
- Redis - ì‘ë‹µì†ë„ í–¥ìƒ, ì„œë²„ ë¶€í•˜ ë¶„ì‚°
- k6, JMeter - ë¶€í•˜ í…ŒìŠ¤íŠ¸ / ì‘ë‹µì‹œê°„ ë¶„ì„





## RESTful API ì–´ì œì— ì´ì–´ì„œ

- /api/persons/{id} ì¶”ê°€
- ![image-20250423103548884](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423103548884.png)





## JPA ì„±ëŠ¥ ìµœì í™”

- fetch join
- ![image-20250423112537055](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423112537055.png)



- ì™¸ë˜í‚¤, join êµ¬ì¡° ì¶”ê°€

- ```java
  package com.example.resttest.model;
  
  import java.util.List;
  
  import jakarta.persistence.Entity;
  import jakarta.persistence.GeneratedValue;
  import jakarta.persistence.GenerationType;
  import jakarta.persistence.Id;
  import jakarta.persistence.ManyToOne;
  import jakarta.persistence.Table;
  import lombok.AllArgsConstructor;
  import lombok.Getter;
  import lombok.NoArgsConstructor;
  import lombok.Setter;
  
  @Entity
  @Table(name="orders") // Order í…Œì´ë¸”ì€ ì¤‘ë³µë  ìˆ˜ ìˆì–´ì„œ ì´ë¦„ ë°”ê¿ˆ
  @Getter
  @Setter
  @NoArgsConstructor
  @AllArgsConstructor
  public class Order {
  	// í–‰ì„ êµ¬ë¶„í•˜ëŠ” PK ë°˜ë“œì‹œ í•„ìš” (í…Œì´ë¸” ìƒì„±ì„ ìœ„í•´) ë³„ë„ êµ¬ë¶„ìê°€ ì—†ì„ ê²½ìš° row ê°¯ìˆ˜ ë§ˆë‹¤ ìë™ ì¦ê°€í•˜ëŠ” IDë¥¼ í‚¤ë¡œ ì“°ë©´ ë¨	
  	@Id
  	@GeneratedValue(strategy = GenerationType.IDENTITY)
  	private Long id;
  	
  	private String productName;
  	private double price;
  	
  	@ManyToOne // ì—¬ëŸ¬ ì£¼ë¬¸ì€ í•œ ì‚¬ëŒì—ê²Œ ì ìš© ë  ìˆ˜ ìˆìŒ
  	private Person person;
  }
  ```

- ```java
  package com.example.resttest.model;
  
  import java.util.ArrayList;
  import java.util.List;
  
  import jakarta.persistence.Entity;
  import jakarta.persistence.GeneratedValue;
  import jakarta.persistence.GenerationType;
  import jakarta.persistence.Id;
  import jakarta.persistence.OneToMany;
  import lombok.AllArgsConstructor;
  import lombok.Getter;
  import lombok.NoArgsConstructor;
  import lombok.Setter;
  
  // Entity í…Œì´ë¸”ê³¼ ë°”ë¡œ ë§¤í•‘ (ì—†ìœ¼ë©´ ìë™ ìƒì„±)
  @Entity
  @Getter
  @Setter
  @NoArgsConstructor
  @AllArgsConstructor
  public class Person {
  	// í–‰ì„ êµ¬ë¶„í•˜ëŠ” PK ë°˜ë“œì‹œ í•„ìš” (í…Œì´ë¸” ìƒì„±ì„ ìœ„í•´) ë³„ë„ êµ¬ë¶„ìê°€ ì—†ì„ ê²½ìš° row ê°¯ìˆ˜ ë§ˆë‹¤ ìë™ ì¦ê°€í•˜ëŠ” IDë¥¼ í‚¤ë¡œ ì“°ë©´ ë¨	
  	@Id
  	@GeneratedValue(strategy = GenerationType.IDENTITY)
  	private Long id;
  	
  	private String name;
  	private int age;
  	
  	@OneToMany(mappedBy = "person") // 1ëŒ€ë‹¤ ê´€ê³„ ì‚¬ëŒ í•œ ëª…ì— ì—¬ëŸ¬ ê°œ ì£¼ë¬¸ì´ ìˆì„ ìˆ˜ ìˆìŒ
  	private List<Order> orders = new ArrayList<Order>();
  }
  ```

- ì§€ì—° ë¡œë”©

- ![image-20250423113919591](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423113919591.png)



- N+1ë¬¸ì œ
- ![image-20250423113932493](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423113932493.png)
- ![image-20250423113954540](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423113954540.png)
- ![image-20250423114055341](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423114055341.png)
- ![image-20250423114102082](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423114102082.png)

![ìŠ¤í¬ë¦°ìƒ· 2025-04-22 111558](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/ìŠ¤í¬ë¦°ìƒ· 2025-04-22 111558.png)

![ìŠ¤í¬ë¦°ìƒ· 2025-04-22 150917](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/ìŠ¤í¬ë¦°ìƒ· 2025-04-22 150917.png)

![ìŠ¤í¬ë¦°ìƒ· 2025-04-22 161613](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/ìŠ¤í¬ë¦°ìƒ· 2025-04-22 161613.png)

![ìŠ¤í¬ë¦°ìƒ· 2025-04-22 161859](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/ìŠ¤í¬ë¦°ìƒ· 2025-04-22 161859.png)

![ìŠ¤í¬ë¦°ìƒ· 2025-04-22 164735](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/ìŠ¤í¬ë¦°ìƒ· 2025-04-22 164735.png)

![ìŠ¤í¬ë¦°ìƒ· 2025-04-23 103548](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/ìŠ¤í¬ë¦°ìƒ· 2025-04-23 103548.png)

![ìŠ¤í¬ë¦°ìƒ· 2025-04-23 112535](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/ìŠ¤í¬ë¦°ìƒ· 2025-04-23 112535.png)

![ìŠ¤í¬ë¦°ìƒ· 2025-04-23 113916](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/ìŠ¤í¬ë¦°ìƒ· 2025-04-23 113916.png)

![ìŠ¤í¬ë¦°ìƒ· 2025-04-23 113931](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/ìŠ¤í¬ë¦°ìƒ· 2025-04-23 113931-1745382626696-7.png)

![ìŠ¤í¬ë¦°ìƒ· 2025-04-23 113947](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/ìŠ¤í¬ë¦°ìƒ· 2025-04-23 113947-1745382626696-8.png)

![ìŠ¤í¬ë¦°ìƒ· 2025-04-23 114050](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/ìŠ¤í¬ë¦°ìƒ· 2025-04-23 114050-1745382626696-9.png)

![ìŠ¤í¬ë¦°ìƒ· 2025-04-23 114059](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/ìŠ¤í¬ë¦°ìƒ· 2025-04-23 114059-1745382626696-10.png)

![ìŠ¤í¬ë¦°ìƒ· 2025-04-22 103155](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/ìŠ¤í¬ë¦°ìƒ· 2025-04-22 103155.png)

![ìŠ¤í¬ë¦°ìƒ· 2025-04-22 103546](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/ìŠ¤í¬ë¦°ìƒ· 2025-04-22 103546.png)

![ìŠ¤í¬ë¦°ìƒ· 2025-04-22 103812](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/ìŠ¤í¬ë¦°ìƒ· 2025-04-22 103812.png)

![ìŠ¤í¬ë¦°ìƒ· 2025-04-22 104900](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/ìŠ¤í¬ë¦°ìƒ· 2025-04-22 104900.png)





# ì˜¤í›„



## JPA ìµœì í™” ì´ì–´ì„œ

![image-20250423134511734](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423134511734.png)





## API ì‘ë‹µ ì„±ëŠ¥ ê°œì„ 

- ![image-20250423134531773](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423134531773.png)



```properties
# ìºì‹œ ì„¤ì •
spring.cache.type=caffeine
spring.cache.caffeine.spec=maximumSize=500,expireAfterWrite=600s

# ë¹„ë™ê¸° ì²˜ë¦¬ ì„¤ì •
spring.task.execution.pool.core-size=10
spring.task.execution.pool.max-size=20
spring.task.execution.pool.queue-capacity=500

# ì‘ë‹µ ì••ì¶• ì„¤ì •
server.compression.enabled=true
server.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json
server.compression.min-response-size=1KB
# 1KB ì´ìƒì¼ ë•Œë§Œ ì••ì¶•
```



```java
package com.example.resttest.controller;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.concurrent.CompletableFuture;

import org.springframework.cache.annotation.Cacheable;
import org.springframework.scheduling.annotation.Async;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.ResponseBody;

@Controller
public class UserController {
	
	@GetMapping
	@Cacheable(value = "homeCache", key = "'home'") // ë¹ˆë²ˆí•œ ìš”ì²­ì´ ì˜¤ëŠ” í™”ë©´, ë°ì´í„°ì˜ ê²½ìš° ìºì‹œ ì¶”ê°€(ë©”ëª¨ë¦¬ì— ë„£ì–´ë‘ )
	@Async // CompletableFuture íƒ€ì…ìœ¼ë¡œ ë³€ê²½í•´ì„œ ë³´ë‚´ì•¼í•¨, ë¹„ë™ê¸°ë¡œ ë™ì‹œì— ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ í•¨
	public CompletableFuture<String> index(Model model) {
		return CompletableFuture.completedFuture("home");
	}
	
	// server.compression.min-response-size=1KB 1KB ì´ìƒì¼ ë•Œë§Œ ì••ì¶•
	// f12 ë„¤íŠ¸ì›Œí¬ì—ì„œ ìˆ˜ì‹  json í´ë¦­ í›„ í—¤ë”ì— gzip ì••ì¶• í™•ì¸
    @GetMapping("/large-json") // ì‘ë‹µ ì••ì¶• ì˜ˆì œ
    @ResponseBody
    public List<Map<String, Object>> getLargeJson() {
        List<Map<String, Object>> list = new ArrayList<>();
        for (int i = 0; i < 1000; i++) {
            Map<String, Object> map = new HashMap<>();
            map.put("id", i);
            map.put("name", "User_" + i);
            map.put("description", "ì´ê±´ ë§¤ìš° ê¸´ ì„¤ëª…ì…ë‹ˆë‹¤. ë°ì´í„°ë¥¼ ë°˜ë³µí•´ì„œ ê¸¸ê²Œ ë§Œë“¤ì–´ì„œ gzip ì••ì¶• í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³´ê² ìŠµë‹ˆë‹¤. ".repeat(5));
            list.add(map);
        }
        return list;
    }    
    
    @GetMapping("/stream")
    @ResponseBody // ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ ì˜ˆì œ, ì²­í¬ë‹¨ìœ„ ì „ì†¡?, caffeine ìºì‹œë¥¼ ì‚¬ìš©í•´ì•¼í•´ì„œ ì˜ì¡´ì„±ì„ ì¶”ê°€í•´ì•¼í•¨
    public ResponseEntity<StreamingResponseBody> streamData() {

        StreamingResponseBody stream = outputStream -> {
            // ìŠ¤íŠ¸ë¦¬ë° ë°ì´í„° ì²˜ë¦¬
            for (int i = 0; i < 1000; i++) {
                outputStream.write(("Data " + i + "\n").getBytes()); // ë°”ë¡œ ë°”ë¡œ bodyì— ë‹´ì•„ì„œ ì „ì†¡
                outputStream.flush();  //ë°”ë¡œ ì „ì†¡
                //Thread.sleep(100);
            }
        };

        HttpHeaders headers = new HttpHeaders();
        headers.setContentType(MediaType.TEXT_PLAIN);

        return ResponseEntity.ok()
                .headers(headers)
                .body(stream);
    }
```



- ![image-20250423140403539](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423140403539.png)

- ![image-20250423142902312](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423142902312.png)
- ![image-20250423142912426](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423142912426.png)
- ![image-20250423142923656](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423142923656.png)
- ![image-20250423142935146](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423142935146.png)
- ![image-20250423143005536](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423143005536.png)
- ![image-20250423143039485](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423143039485.png)



- ![image-20250423143234355](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423143234355.png)
- ![image-20250423143241675](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423143241675.png)
- ![image-20250423143253001](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423143253001.png)
- ![image-20250423143601909](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423143601909.png)



- ![image-20250423143555818](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423143555818.png)
- ![image-20250423143617676](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423143617676.png)
- ![image-20250423143625588](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423143625588.png)
- ![image-20250423143633446](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423143633446.png)
- ![image-20250423143639934](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423143639934.png)

- ![image-20250423143654507](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423143654507.png)
- ![image-20250423143704793](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423143704793.png)
- ![image-20250423143711020](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423143711020.png)

- ![image-20250423143721124](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423143721124.png)



- ![image-20250423143741715](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423143741715.png)
- ![image-20250423144105918](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423144105918.png)



## ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ (K6, jmeter)

- ![image-20250423144208224](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423144208224.png)
- ![image-20250423144235407](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423144235407.png)
- ![image-20250423144245019](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423144245019.png)





### JMeter

- ![image-20250423144849787](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423144849787.png)

- ![image-20250423144844192](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423144844192.png)
- ![image-20250423145058205](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423145058205.png)
- ![image-20250423145159555](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423145159555.png)

- ![image-20250423145211509](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423145211509.png)
- ![image-20250423145218317](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423145218317.png)

- ![image-20250423151732579](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423151732579.png)

- ![image-20250423151744071](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423151744071.png)
- 



### Spring Actuator

- ![image-20250423153525272](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423153525272.png)
- ![image-20250423153531141](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423153531141.png)
- ![image-20250423153536756](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423153536756.png)
- ![image-20250423153542154](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423153542154.png)
- ![image-20250423153550381](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423153550381.png)
- ![image-20250423153559379](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423153559379.png)
- ![image-20250423153604551](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423153604551.png)
- ![image-20250423153633516](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423153633516.png)
- ![image-20250423153640003](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423153640003.png)
- ![image-20250423153647108](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423153647108.png)
- ![image-20250423153653297](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423153653297.png)

- ![image-20250423153706332](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423153706332.png)
- ![image-20250423153714589](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423153714589.png)
- ![image-20250423153722094](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423153722094.png)

- ```properties
  # spring actuator setting
  management.endpoints.web.exposure.include=*
  management.endpoint.health.show-details=always
  management.endpoint.metrics.enabled=true
  management.endpoint.prometheus.enabled=true
  management.metrics.export.prometheus.enabled=true
  management.endpoint.loggers.enabled=true
  management.endpoint.env.enabled=true
  management.endpoint.beans.enabled=true
  management.endpoint.threaddump.enabled=true
  management.endpoint.heapdump.enabled=true
  ```

```xml
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-actuator</artifactId>
		</dependency>
```



### Prometheus, Grafana ëŒ€ì‹œë³´ë“œ

- ![image-20250423154806727](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423154806727.png)
- ![image-20250423154813860](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423154813860.png)
- ![image-20250423154905927](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423154905927.png)
- ![image-20250423154913500](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423154913500.png)
- ![image-20250423154920413](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423154920413.png)

- cd C:\Users\GD\Downloads\prometheus-3.3.0.windows-amd64

- prometheus.exe --config.file=prometheus.yml

- ëŒ€ë¶€ë¶„ì˜ ì„±ëŠ¥ì´ìŠˆ sql ì¿¼ë¦¬ (DB ë¬¸ì œ)



- ![image-20250423163449432](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423163449432.png)

- ![image-20250423163457941](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423163457941.png)
- ![image-20250423163505038](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423163505038.png)
- ![image-20250423163518008](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423163518008.png)



- C:\Program Files\GrafanaLabs\grafana\bin
- ![image-20250423164332421](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423164332421.png)



- [ë„¤ì´ë²„ MYBOX](https://mybox.naver.com/#/share/url/detail?shareKey=I-XvckOSWeiKHjR8y8Z8UXI8wzt5_Sa3c7UdEn9-sLQE&resourceKey=aWxoYW5rfDM0NzI1OTY4NTk4Mzk0MDk3NDh8RHwxNjM1OTIzNQ)

- ì‘ë™X

- ![image-20250423172924370](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423172924370.png)

- ì •ìƒì‘ë™

- ![image-20250423173130747](APIì„±ëŠ¥ìµœì í™”_3ì¼ì°¨.assets/image-20250423173130747.png)



- fetch join + batchsize

- ```java
  package com.example.resttest.model;
  
  import java.util.List;
  
  import org.hibernate.annotations.BatchSize;
  
  import jakarta.persistence.Entity;
  import jakarta.persistence.FetchType;
  import jakarta.persistence.GeneratedValue;
  import jakarta.persistence.GenerationType;
  import jakarta.persistence.Id;
  import jakarta.persistence.JoinColumn;
  import jakarta.persistence.ManyToOne;
  import jakarta.persistence.Table;
  import lombok.AllArgsConstructor;
  import lombok.Getter;
  import lombok.NoArgsConstructor;
  import lombok.Setter;
  
  @Entity
  @Table(name="orders") // Order í…Œì´ë¸”ì€ ì¤‘ë³µë  ìˆ˜ ìˆì–´ì„œ ì´ë¦„ ë°”ê¿ˆ
  @Getter
  @Setter
  @NoArgsConstructor
  @AllArgsConstructor
  public class Order {
  	// í–‰ì„ êµ¬ë¶„í•˜ëŠ” PK ë°˜ë“œì‹œ í•„ìš” (í…Œì´ë¸” ìƒì„±ì„ ìœ„í•´) ë³„ë„ êµ¬ë¶„ìê°€ ì—†ì„ ê²½ìš° row ê°¯ìˆ˜ ë§ˆë‹¤ ìë™ ì¦ê°€í•˜ëŠ” IDë¥¼ í‚¤ë¡œ ì“°ë©´ ë¨	
  	@Id
  	@GeneratedValue(strategy = GenerationType.IDENTITY)
  	private Long id;
  	
  	private String productName;
  	private double price;
  	
  	@ManyToOne(fetch = FetchType.LAZY) // ì—¬ëŸ¬ ì£¼ë¬¸ì€ í•œ ì‚¬ëŒì—ê²Œ ì ìš© ë  ìˆ˜ ìˆìŒ
  	@BatchSize(size = 10)
  	@JoinColumn(name = "person_id")
  	private Person person;
  }
  ```

- ```sql
  select * from orders;
  select * from person where id in (1,2,3,4,5...10);
  select * from person where id in (11,12,13,14,15...20);
  ```



- ```java
  package com.example.resttest.repository;
  
  import java.util.List;
  import java.util.Optional;
  
  import org.springframework.data.jpa.repository.JpaRepository;
  import org.springframework.data.jpa.repository.Query;
  import org.springframework.data.repository.query.Param;
  
  import com.example.resttest.model.Order;
  //fetch join ì—¬ëŸ¬ë²ˆ ë°˜ë³µë¬¸ì„ í•œë²ˆì— ì²˜ë¦¬í•´ë²„ë¦¼ (ì†ë„ í–¥ìƒ)
  public interface OrderRepository extends JpaRepository<Order, Long> {
      @Query("SELECT o FROM Order o JOIN FETCH o.person WHERE  = :orderId")
      Optional<Order> findOrderWithPerson(@Param("orderId") Long orderId);
  
      List<Order> findByPersonId(Long personId);
      
      @Query("SELECT o FROM Order o JOIN FETCH o.person")
      List<Order> findAllWithPerson();
      
      @Query("SELECT o FROM Order o JOIN FETCH o.person p WHERE  = :personId")
      List<Order> findByPersonIdWithPerson(@Param("personId") Long personId);
  }
  ```

- 